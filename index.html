<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>三角比クイズ</title>
<style>
  body {
    font-family: 'Arial', sans-serif;
    background-color: #f0f4f7;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    text-align: center;
  }
  h1 {
    font-size: 64px;
    color: #2c3e50;
  }
  .question {
    font-size: 56px;
    margin: 40px 0;
    color: #34495e;
  }
  input {
    font-size: 48px;
    padding: 15px;
    text-align: center;
    width: 200px;
  }
  button {
    font-size: 40px;
    margin: 30px;
    padding: 20px 50px;
    background-color: #3498db;
    color: white;
    border: none;
    border-radius: 12px;
    cursor: pointer;
  }
  button:hover {
    background-color: #2980b9;
  }
  .result {
    font-size: 56px;
    margin-top: 30px;
  }
</style>
</head>
<body>
  <h1>三角比クイズ</h1>
  <div class="question" id="question"></div>
  <input type="text" id="answer" placeholder="答えを入力">
  <div>
    <button onclick="checkAnswer()">答える</button>
    <button onclick="nextQuestion()">次へ</button>
  </div>
  <div class="result" id="result"></div>

<script>
  const trigValues = {
    'sin': {
      0: 0,
      30: 0.5,
      45: '√2/2',
      60: '√3/2',
      90: 1,
      120: '√3/2',
      135: '√2/2',
      150: 0.5,
      180: 0
    },
    'cos': {
      0: 1,
      30: '√3/2',
      45: '√2/2',
      60: 0.5,
      90: 0,
      120: -0.5,
      135: '-√2/2',
      150: '-√3/2',
      180: -1
    },
    'tan': {
      0: 0,
      30: '√3/3',
      45: 1,
      60: '√3',
      90: 'なし',
      120: '-√3',
      135: -1,
      150: '-√3/3',
      180: 0
    }
  };

  const funcs = ['sin', 'cos', 'tan'];
  const angles = [0,30,45,60,90,120,135,150,180];
  let currentFunc = '';
  let currentAngle = 0;

  function nextQuestion() {
    document.getElementById('result').textContent = '';
    document.getElementById('answer').value = '';
    currentFunc = funcs[Math.floor(Math.random() * funcs.length)];
    currentAngle = angles[Math.floor(Math.random() * angles.length)];
    document.getElementById('question').textContent = `${currentFunc}(${currentAngle}°) = ?`;
  }

  function checkAnswer() {
    const userAnswer = document.getElementById('answer').value.trim();
    const correct = trigValues[currentFunc][currentAngle].toString();
    const result = document.getElementById('result');
    if (userAnswer === correct) {
      result.textContent = '⭕ 正解！';
      result.style.color = '#27ae60';
    } else {
      result.textContent = `❌ 不正解。正解は ${correct}`;
      result.style.color = '#e74c3c';
    }
  }

  nextQuestion();
</script>
</body>
</html>
